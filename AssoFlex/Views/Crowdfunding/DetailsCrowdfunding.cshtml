@using System.Security.Claims
@model AssoFlex.ViewModels.LayoutModelView

@{
    ViewBag.Title = "title";
    Layout = "_Layout";
}

<div class="container-fluid">
    <div class="animated fadeIn">
        <div class="row">
            <div class="col-sm-12 col-xl-6">
                <div class="card">
                    <div class="card-header">
                        <i class="fa fa-align-justify"></i> CROWDFUNDING
                        @* <small>slides only</small> *@
                        <div class="card-header-actions">
                            <a class="card-header-action" href="http://coreui.io/docs/components/bootstrap-carousel/" target="_blank">
                                <small class="text-muted">docs</small>
                            </a>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="carousel slide" id="carouselExampleSlidesOnly" data-ride="carousel">
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img class="d-block w-100" data-src="holder.js/800x400?auto=yes&amp;bg=777&amp;fg=555&amp;text=First slide" alt="First slide [800x400]" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_160549c9266%20text%20%7B%20fill%3A%23555%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_160549c9266%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22285.9296875%22%20y%3D%22217.75625%22%3EFirst%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"
                                         data-holder-rendered="true">
                                </div>
                                <div class="carousel-item">
                                    <img class="d-block w-100" data-src="holder.js/800x400?auto=yes&amp;bg=666&amp;fg=444&amp;text=Second slide" alt="Second slide [800x400]" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_160549c9269%20text%20%7B%20fill%3A%23444%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_160549c9269%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23666%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22247.3203125%22%20y%3D%22217.75625%22%3ESecond%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"
                                         data-holder-rendered="true">
                                </div>
                                <div class="carousel-item">
                                    <img class="d-block w-100" data-src="holder.js/800x400?auto=yes&amp;bg=555&amp;fg=333&amp;text=Third slide" alt="Third slide [800x400]" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_160549c926a%20text%20%7B%20fill%3A%23333%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_160549c926a%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23555%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22277.0078125%22%20y%3D%22217.75625%22%3EThird%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"
                                         data-holder-rendered="true">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<form id="form">
    <input type="search"  id="query" name="q" placeholder="Votre recherche ...">
    <button>Rechercher</button>
    <a href=”mon lien ” target=”_blank”>
        <i class="bi bi-search"></i>
    </a>
</form>

<div class="container p-10 my-10 bg-dark text-white text-center">
    <h2>@Model.ContributionViewModel.Crowdfunding.Nom</h2>
    <br/>
    <h6>Type : @Enum.GetName(typeof(TypesProjet),Convert.ToInt32(Model.ContributionViewModel.Crowdfunding.CategorieProjet))</h6>


    <h6>Organisé par @Model.ContributionViewModel.Crowdfunding.PorteurDuProjet.Nom</h6>

    
    <h6>à @Model.ContributionViewModel.Crowdfunding.LieuProjet</h6>
    <br/>
    <div class="fa-display">Commence le </div>
    <div>@Html.DisplayFor(model => model.ContributionViewModel.Crowdfunding.DateDebutProjet)</div>
    <div>Termine le</div>
    <div >@Html.DisplayFor(model => model.ContributionViewModel.Crowdfunding.DateFinProjet)</div>
    <br/>
    <h6> @Model.ContributionViewModel.Collecte.MontantCollecte  / @Model.ContributionViewModel.Crowdfunding.MontantProjet €</h6>
    <h6> Pour plus d'informations, contactez @Model.ContributionViewModel.Crowdfunding.PorteurDuProjet.AdminAsso.Email</h6>
    
    @if (User.Identity.IsAuthenticated)
    {
        <a href=@Url.Action("Contribute","Crowdfunding", new {@cfId = @Model.ContributionViewModel.Crowdfunding.Id, @userId = User.FindFirst(ClaimTypes.NameIdentifier).Value})>Contribuer à ce projet</a>
    }
    
    @if (User.Identity.IsAuthenticated && @Model.ContributionViewModel.Crowdfunding.PorteurDuProjet.AdminAsso.Prenom == @User.Identity.Name)
    {
        <a href=@Url.Action("UpdateCrowdfunding", "Crowdfunding", new {id = @Model.ContributionViewModel.Crowdfunding.Id})>Modifier ce projet</a>
        <a href=@Url.Action("DeleteCrowdfunding","Crowdfunding",new {id = @Model.ContributionViewModel.Crowdfunding.Id})>Supprimer ce projet</a>                                                                                       
                                                                                               
    }
</div>